# .template Directory

This directory contains the infrastructure used to initialize and maintain the copilot_template project itself. 

**Important Distinction**: This .template/ directory is for the TEMPLATE infrastructure, not for projects created FROM the template.

---

## Contents

### Setup Infrastructure

- **`scripts/init.sh`**: One-time setup script run when initializing a new project
  - Prompts for project name, customer name, and user name
  - Allows selection of MCP servers to enable
  - Generates `.vscode/mcp.json` configuration
  - Run with: `./.template/scripts/init.sh`

- **`templates/`**: Read-only template files for initializing `aiDocs/`
  - `SUMMARY.template.md` - Project summary template
  - `TASKS.template.md` - Task tracking template
  - `DISCOVERY.template.md` - Discovery questions template
  - `AI.template.md` - AI agent notes template
  - Used by `.template/scripts/clean-reset.sh` to reset project state

- **`mcpServers/`**: MCP server configuration options
  - Pre-configured JSON files for various MCP servers
  - Users select which to enable during `scripts/init.sh`
  - Add new server configs here as `.json` files

- **`scripts/`**: Template infrastructure scripts
  - `init.sh` - One-time project setup script
  - `clean-reset.sh` - Reset project to template state

### Bootstrap Maintenance

- **`prompts/`**: Workflows for maintaining the bootstrap template itself
  - `sanityCheck.prompt.md` - Fast pre-commit validation (critical issues only)
  - `healthCheck.prompt.md` - Comprehensive QA analysis of bootstrap
  - `generateTasks.prompt.md` - Convert findings to actionable tasks
  - Use `/sanityCheck`, `/healthCheck`, and `/generateTasks` slash commands

- **`SANITY_CHECK_REPORT.md`**: Latest validation results
  - Quick validation for pre-commit checks
  - Critical issues only
  - Git-aware (analyzes uncommitted files or full codebase)
  - Generated by `/sanityCheck`
  
- **`HEALTH_CHECK_REPORT.md`**: Comprehensive bootstrap analysis
  - Overall health assessment
  - Identified issues by severity (all levels)
  - Component-by-component analysis
  - Generated by `/healthCheck`

- **`FIXES.md`**: Bug and fix tracking for bootstrap template
  - Critical, high, medium, and low priority fixes
  - Task format: Priority, Component, Problem, Solution, Acceptance Criteria
  - Generated by `/generateTasks`

- **`IMPROVEMENTS.md`**: Enhancement tracking for bootstrap template
  - High, medium, and low impact improvements
  - Nice-to-have features and optimizations
  - Generated by `/generateTasks`

---

## .template vs. Project

### .template Directory (this directory)

- **Purpose**: Infrastructure for creating and maintaining the template
- **Users**: Template maintainers and developers
- **Frequency**: Used once during setup, then for template maintenance
- **Scope**: The template itself, not individual projects

**Contains**:
- Setup scripts (`scripts/`)
- Template files
- MCP server configs
- Bootstrap maintenance prompts
- Bootstrap issue tracking

### Root Directory

- **Purpose**: Active project tools and workflows
- **Users**: Project teams using the template
- **Frequency**: Used continuously throughout project lifecycle
- **Scope**: Individual projects created from template

**Contains**:
- User workflows (`prompts/`)
- Project data (`aiDocs/`, `email/`)
- Project tracking (`SUMMARY.md`)

---

## When to Use Bootstrap Tools

### Run `/sanityCheck` when:
- Before committing changes to template
- Quick validation of critical issues only
- Checking uncommitted file changes
- Fast pre-commit workflow (completes in seconds)

### Run `/healthCheck` when:
- Performing comprehensive template analysis
- Before releasing new template version
- Planning major template improvements
- Need detailed component-by-component review
- Analyzing all severity levels (not just critical)

### Run `/generateTasks` when:
- Health check identifies issues
- Planning bootstrap improvements
- Creating actionable fix lists
- Prioritizing maintenance work

### Edit bootstrap files when:
- Adding new MCP server configs
- Updating template files
- Fixing bootstrap bugs
- Improving setup experience

---

## Decision Criteria

**Does it belong in .template/?**

| Question | Yes → .template | No → Root |
|----------|----------------|-----------|
| Used only during initial setup? | ✅ | ❌ |
| Read-only after setup? | ✅ | ❌ |
| Maintains the template itself? | ✅ | ❌ |
| Part of scaffolding/initialization? | ✅ | ❌ |
| Users modify/run continuously? | ❌ | ✅ |
| Part of ongoing project workflow? | ❌ | ✅ |

---

## Examples

### .template Items (in this directory)
- `scripts/init.sh` - Only runs once during setup
- `scripts/clean-reset.sh` - Reset project to template state
- `templates/` - Read-only scaffolding
- `mcpServers/` - Read once during init
- Bootstrap maintenance prompts

### Root Items (outside this directory)
- `prompts/` - Used continuously by project teams
- Project data and documentation

---

## Maintaining the Template

To maintain the template infrastructure itself:

1. **Quick validation**: Run `/sanityCheck` before commits
2. **Comprehensive analysis**: Run `/healthCheck` periodically
3. **Review reports**: Check `SANITY_CHECK_REPORT.md` or `HEALTH_CHECK_REPORT.md`
4. **Generate tasks**: Run `/generateTasks` (uses health check report)
5. **Prioritize work**: Review `FIXES.md` and `IMPROVEMENTS.md`
6. **Implement fixes**: Work through tasks by priority
7. **Validate changes**: Re-run `/sanityCheck` or `/healthCheck`
8. **Update tracking**: Move completed tasks to archive sections

---

## Adding New MCP Servers

To add a new MCP server configuration:

1. Create `.json` file in `.template/mcpServers/`
2. Follow existing config format:
   ```json
   {
     "mcpServers": {
       "server-name": {
         "command": "command-to-run",
         "args": ["arg1", "arg2"],
         "env": {
           "VAR": "value"
         }
       }
     }
   }
   ```
3. Users can select it during `./.template/init.sh`

---

## Template Updates

When updating template files in `.template/templates/`:

1. Edit the `.template.md` files
2. Ensure placeholders use `[BRACKETS]` format
3. Test with `./.template/scripts/clean-reset.sh`
4. Run `/sanityCheck` for quick validation
5. Run `/healthCheck` for comprehensive review
6. Document changes in bootstrap tracking files

---

## References

- **For template fixes**: See `.template/FIXES.md`
- **For template improvements**: See `.template/IMPROVEMENTS.md`
- **For future template enhancements**: See `.template/FUTURE.md`
- **For template usage**: See root `README.md`
- **For AI workflows**: See `.github/copilot-instructions.md`
